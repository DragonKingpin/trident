!function(t,e){function a(t,e,a){console.log(e),window.location.href=encodeURI(e+"?kwdNamesStr="+t+"&timePeriodType=MONTH&dataType="+a+"&queryType=CLICK")}var r=e.getElementById("background");if(!r.getContext)return!1;var i,n,o,s=e.getElementById("hash-KeyWord"),h={create:function(t,e){for(var a in e)t.prototype[a]=e[a];return t},extend:function(t,e,a){e.prototype=new t;var r=this.create(e,a);r.prototype._super=function(){t.apply(this,arguments)};for(var i in t.prototype)r.prototype["_super_"+i]=t.prototype[i];return r}},l=h.create(function(){},{move:function(){B[3]&&(this.x=(this.x-u/2)*Math.cos(B[3]*Math.PI/180)-this.z*Math.sin(B[3]*Math.PI/180)+u/2,this.z=this.z*Math.cos(B[3]*Math.PI/180)+(this.x-u/2)*Math.sin(B[3]*Math.PI/180)),B[2]?this.z+=B[2]:this.z-=1,this.x+=.1*B[0],this.y+=.1*B[1],1==this.type?this.render(this.randomColor):this.render(this.color)},render:function(){},reinit:function(t){this.create(t)},create:function(t){var e,a,r,i=!1;if(1===t)r=1===this.type?g:y;else if(2===t)r=1===this.type?M:b;else if(3===t){e=this.x,a=this.y,r=this.z;var n=(f+r)/f;e<(1-E)*u/2?e=u*(n+1)/2+_*Math.random():e>u+(E-1)*u/2&&(e=u*(1-n)/2-_*Math.random()),a<(1-E)*m/2?a=m*(n+1)/2+_*Math.random():a>m+(E-1)*m/2&&(a=m*(1-n)/2-_*Math.random()),B[2]>0?r=M:B[2]<0&&(r=g)}else r=1===this.type?Math.random()*(g-M)+M:Math.random()*(y-b)+b;if(3!==t||i){1===this.type?(e=-u*(E-1)/2+Math.random()*u*E,a=-m*(E-1)/2+Math.random()*m*E):this.t?(e=Math.random()*(u-this.width),a=Math.random()*m):(e=-u*(S-1)/2+Math.random()*u*S,a=-m*(S-1)/2+Math.random()*m*S)}this.x=e,this.y=a,this.z=r}}),d=h.extend(l,function(){this.type=Math.random()<p?1:2,this.create()},{render:function(t){if(t||(t="255,177,104"),1===this.type&&this.z<M||2===this.type&&this.z<b)return void this.reinit(1);if(1===this.type&&this.z>g||2===this.type&&this.z>y)return void this.reinit(2);var e=f/(f+this.z),a=u/2+(this.x-u/2)*e,r=m/2+(this.y-m/2)*e;if(!(a<0||a>u||r<0||r>m)){e=Math.round(100*e)/100;var i=1;1===this.type?this.z>g-200?i=.8*Math.round(g-this.z)/200:this.z<M+100&&(i=.8*Math.round(this.z-M)/100):this.z>y-100?i=.8*Math.round(y-this.z)/100:this.z<b+50&&(i=.8*Math.round(this.z-b)/50);var n=P.createRadialGradient(a,r,0,a,r,10);n.addColorStop(0,"rgba("+t+","+i+")"),n.addColorStop(.5,"rgba("+t+","+i+")"),n.addColorStop(.501,"rgba("+t+","+.75*i+")"),n.addColorStop(.65,"rgba("+t+","+.4*i+")"),n.addColorStop(.8,"rgba("+t+","+.2*i+")"),n.addColorStop(1,"rgba("+t+",0)"),P.fillStyle=n,P.beginPath(),P.arc(a,r,10,0,2*Math.PI,!0),P.closePath(),P.fill(),P.globalAlpha=.8}},create:function(t){this.imgData||(this._super_create(t),this.r=Math.random()*v[1]+v[0]),this.randomColor=L[Math.floor(Math.random()*L.length)]}}),c=h.extend(l,function(t){this.type=2,this.create()},{render:function(t){if(this.z<b)return void this.reinit(1);if(this.z>y)return void this.reinit(2);var e=f/(f+this.z),r=u/2+(this.x-u/2)*e,n=m/2+(this.y-m/2)*e;e=Math.round(100*e)/50;var o=1,s=!1;this.z>y-100?o=Math.round(y-this.z)/200:this.z<b+50&&(o=Math.round(this.z-b)/100);var h=Math.round(this.width*e),l=Math.round(this.height*e);r+15*e<Q.x&&r+15*e+h>Q.x&&n-18*e<Q.y&&n-18*e+l>Q.y&&(Q.click?(a(this.t,this.url,this.dataType),Y.clear(i)):!Q.hover&&Q.enable&&(Q.hover=!0,s=!0));var d=P.createRadialGradient(r,n,0,r,n,10);d.addColorStop(0,"rgba("+t+","+o+")"),d.addColorStop(.5,"rgba("+t+","+o+")"),d.addColorStop(.501,"rgba("+t+","+.75*o+")"),d.addColorStop(.65,"rgba("+t+","+.4*o+")"),d.addColorStop(.8,"rgba("+t+","+.2*o+")"),d.addColorStop(1,"rgba("+t+",0)"),P.fillStyle=d,P.beginPath(),P.arc(r,n,10,0,2*Math.PI,!0),P.closePath(),P.fill();var c=new Image;c.src=this.imgData,P.globalAlpha=1,s||(P.globalAlpha=.6*o);try{P.drawImage(c,0,0,c.width,c.height,r+18,n-12*.6,Math.round(.6*c.width),Math.round(.6*c.height))}catch(t){}P.globalAlpha=.8},create:function(t){this._super_create(t),this.Content=T[Math.floor(Math.random()*A)],this.t=this.Content.text,this.url=this.Content.url,this.dataType=this.Content.dataType,this.color=this.Content.color;var e=P.measureText(this.t);R.clearRect(0,0,400,400),R.fillStyle="#333",R.font="22px Microsoft Yahei",R.textBaseline="middle",R.fillText(this.t,0,12),R.getImageData(0,0,e.width,24),this.imgData=s.toDataURL("image/png"),this.width=20*e.width/12,this.height=24,R.clearRect(0,0,400,400)}}),u=Math.max(e.documentElement.clientWidth,960),m=Math.max(e.documentElement.clientHeight,500),p=.99,v=[1,5],f=500,g=2500,M=0,y=500,b=0,w=1e5,z=8,x=.05,C=20,I=1,_=100,E=(f+g)/f,S=(f+y)/f,N=[[.25,.5,300],[.3,.3,100],[.18,.6,100],[.45,.5,300],[.55,.4,100],[.5,.75,200],[.6,.6,200],[.65,.5,300],[.7,.3,200],[.8,.7,300]],T=pPineSet.hot,L=["184,238,172","139,190,255","255,177,104"],k=[],A=(N.length,T.length),P=r.getContext("2d"),R=s.getContext("2d"),B=[0,0,0,0],D=!1,q=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||t.oRequestAnimationFrame,Y={stop:!1,reg:function(t){i=q&&!Y.stop?q(function(){Y.stop||(t(),i=q(arguments.callee))}):setInterval(t,17)},clear:function(t){q?Y.stop=!0:clearInterval(t)}},F=function(t){var a=t?20:0;r.setAttribute("width",u-a),r.setAttribute("height",m-a),n=50;for(var i=0;i<n;i++)k.push(new d);o=Math.min(u*m/w,z);for(var s=0;s<o;s++)k.push(new c);Y.reg(function(){P.clearRect(0,0,u,m),D||(0!==B[0]&&(B[0]=B[0]-Math.abs(B[0])/B[0]),0!==B[1]&&(B[1]=B[1]-Math.abs(B[1])/B[1]),0!==B[2]&&(B[2]=B[2]-Math.abs(B[2])/B[2]),0!==B[3]&&(B[3]=B[3]-.1*Math.abs(B[3])/B[3],Math.abs(B[3])<.1&&(B[3]=0)));for(var t=k.length;t--;)k[t].r&&t>n||k[t].move();Q.click=!1,Q.hover?(e.body.style.cursor="pointer",Q.hover=!1):e.body.style.cursor="default"})},O=function(t){1===t&&V.className.indexOf(" up")===-1?(V.className=V.className.replace(" down",""),V.className+=" up"):t===-1&&V.className.indexOf(" down")===-1&&(V.className=V.className.replace(" up",""),V.className+=" down")},G=function(){V.className=V.className.replace(" down",""),V.className=V.className.replace(" up","")},H=function(t){var e,a,r=t.keyCode||t.which;38==r?(e=2,a=-1):40==r?(e=2,a=1):87==r?(e=1,a=1):83==r?(e=1,a=-1):37==r?(e=3,a=-.1):39==r?(e=3,a=.1):65==r?(e=0,a=1):68==r&&(e=0,a=-1),(0===e&&Math.abs(B[e])<x*u||1===e&&Math.abs(B[e])<x*m||2===e&&Math.abs(B[e])<C||3===e&&Math.abs(B[e])<I)&&(D=!0,B[e]+=a),2===e&&O(a)},U=function(t){D=!1,G()};e.addEventListener("keydown",H),e.addEventListener("keyup",U);var V=e.getElementById("ft_control");V.className="use";var K={up:function(a){e.body.className=e.body.className.replace(" b_move",""),t.removeEventListener("mouseup",K.up),t.removeEventListener("selectstart",K.unselect),clearTimeout(K.release_timer),K.release_timer=setTimeout(function(){clearInterval(K.move_timer),D=!1,G()},50)},down:function(e){D=!0,t.addEventListener("mouseup",K.up),t.addEventListener("selectstart",K.unselect),K.baseY=e.offsetY||e.layerY,K.baseY<36?move_add=-1:move_add=1,clearTimeout(K.release_timer),clearInterval(K.move_timer),K.move_timer=setInterval(function(){B[2]+=move_add;var t=Math.abs(B[2]);t>C&&(B[2]=C*B[2]/t,clearInterval(K.move_timer))},50),O(move_add),e.returnValue=!1},release_timer:null,move_timer:null,unselect:function(t){t.returnValue=!1}};V.addEventListener("mousedown",K.down);var W=null,X=function(t){D=!0;var e=0,a=t.wheelDelta||t.detail*-1;e=a>0?-1:1,B[2]+=e;var r=Math.abs(B[2]);r>C&&(B[2]=C*B[2]/r),O(e),clearTimeout(W),W=setTimeout(function(){D=!1,G()},500)};e.addEventListener("mousewheel",X),e.addEventListener("DOMMouseScroll",X);var j,J=function(){clearTimeout(j),j=setTimeout(function(){Y.clear(i);for(var t=k.length;t--;)k.pop();F()},400)};t.addEventListener("resize",J);var Q={x:0,y:0,hover:!1,click:!1,enable:!1},Z=e.getElementById("wrap"),$=function(t){t.target!==Z&&t.target!==e.getElementById("main")&&t.target!==e.getElementById("bd_logo")||(Q.click=!0)},tt=function(t){Q.x=t.pageX,Q.y=t.pageY,Q.enable=!1,t.target!==Z&&t.target!==e.getElementById("main")&&t.target!==e.getElementById("bd_logo")||(Q.enable=!0)};Z.addEventListener("click",$),Z.addEventListener("mousemove",tt),t.addEventListener("load",function(){A>0&&F(!0)})}(window,document);